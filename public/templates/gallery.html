<div class="container" data-ng-controller="galleryController" ng-init="getallcondolist()">

<div class="row next_prev_row">
	<div class="col col-1">
		<ul class="list-unstyled">
			<li class="active" ng-click="getallcondolist()">All</li>
		</ul>
	</div>
	<div class="col col-11">
	    <ul class="list-unstyled" >
				<li data-ng-show="nextIndex > 5" data-ng-click="nextIndex = nextIndex - 4; prevIndex = prevIndex - 4;"><</li>
	    	<li data-ng-show="$index < nextIndex && $index >= prevIndex" data-ng-repeat="page in  paginationAlphabetical | orderBy:'id'" data-ng-class="{active:page.status}" data-ng-click="getCondoListAlphabetically(page,0)">{{page.letter}}</li>
				<li data-ng-show="nextIndex < 28" data-ng-click="nextIndex = nextIndex + 5; prevIndex = prevIndex + 5;">></li>
	    </ul>
	    <p style="margin:5px;">Filter list by condo name</p>
	</div>
	<div class="clear-fix"></div>
	<div class="row" style="margin: 0px;padding: 0px;">

		<div class="col col-4-desktop col-4-tablet thumbnail" data-ng-repeat="condo in allcondolist | orderBy:'-image_id' | limitTo: 6"> 
			<div class="expand" data-ng-click="getcondoimages(condo)" id="open-popup1">
				<img src="images/expand.svg">
			</div>
			<span class="share_icon" data-ng-click="share(condo)">SHARE</span>
			<span class="vote_icon" data-ng-click="vote(condo)">VOTE</span>
			<a class="btn trigger" href="javascript:;">
			    <span class="main_div">
			    	<img data-ng-src="{{condo.condolist.images}}"/>
			    	<div class="padding">
				    	<div style="margin-right: 45px;">
				    		<h4>{{condo.condo_name | limitTo: 13}}</h4>
				    		<h6>{{condo.user_name | limitTo: 15}}</h6>
				    	</div>
				    	<div class="votes_box">
					    	 <h4 class="gallery_vote_count">{{condo.votes}}</h4>
					    	 <h6>VOTES</h6>
				    	</div>
			    	</div>
			    </span>
			</a>
		</div>
		<div data-ng-model="nextprevcondolist_conn_msg" ng-show="shownextprevcondolist_conn_msg">{{nextprevcondolist_conn_msg}}</div>
		<div data-ng-model="condolist_err_msg" ng-show="showcondolist_err_msg">{{condolist_err_msg}}</div>
		<div data-ng-model="connectionmsg" ng-show="showconnectionmsg">{{connectionmsg}}</div>
		<ul class="list-unstyled" data-ng-if="letter_total_condos > 6 ">
	      <li data-ng-click="nextprevcondolist('prev')" ng-if="count != 0" ng-class="{activeprev:count != 0}">Prev</li>
	      <li ng-if="count == 0" ng-class="{deactiveprev:count == 0}" >Prev</li>
	      <li data-ng-click="getCondoListAlphabeticallyNextPrev('next')" ng-if="allcondolist.length >= 6" ng-class="{activenext:allcondolist.length >= 6}">Next</li>
	      <li ng-if="!(allcondolist.length >= 6)" ng-class="{deactivenext:!(allcondolist.length >= 6)}" >Next</li>
	    </ul>
	</div>
<div class="clear-fix"></div>
<div class="popup" id="popup">
  <div class="popup__inner">
		<div slide-source="condoimage in imagesobj" class="slide-viewer" next-arrow-class="slide-next" previous-arrow-class="slide-previous" uib-collapse="isCollapsed">
		<img src="images/add.svg" class="popup_close_pos">
		<img data-ng-src="{{condoimage}}" />
			<h4 class="slider_indicator"> {{$index+1}} OF {{imagesobj.length}}</h4>
		</div>
  </div><!-- /popup__inner -->
</div><!-- /popup -->

<div class="popup" id="popup-1">
  <div class="popup__inner ok-popup">
  		<img src="images/add.svg" id="close-popup-2" class="popup_close_pos ng-scope" style="top:0px;">
		<h4>Thank you for voting.</h4>
  </div><!-- /popup__inner -->
</div><!-- /popup -->

<div class="popup" id="popup-3">
  <div class="popup__inner ok-popup">
  		<img src="images/add.svg" id="close-popup-3" class="popup_close_pos ng-scope" style="top:0px;">
		<h4>Hey you are so active !! You have already voted for this unit.</h4>
  </div><!-- /popup__inner -->
</div><!-- /popup -->

<script type="text/javascript">

	$(document).ready(function () {

  var popup = $("#popup"),
      doc = $(document),
      popClass = "popped",
      showPopup = function (event) {
        popup.fadeIn(200);
        event.preventDefault();
      },
      hidePopup = function (event) {
        popup.hide();
        event.preventDefault();
      };

	var popup_1 = $("#popup-1"),
			popup_3 = $("#popup-3"),
      doc_1 = $(document),
      popClass = "popped",
      hidePopup_1 = function (event) {
        popup_1.hide();
        event.preventDefault();
      },
			hidePopup_3 = function (event) {
				popup_3.hide();
				event.preventDefault();
			};

  doc.on("click", ".popup_close_pos", hidePopup);
	doc.on("click", "#close-popup-2", hidePopup_1);
	doc.on("click", "#close-popup-3", hidePopup_3);

  doc.keypress(function (event) {
    if (event.keyCode === 27) { // esc key
      hidePopup();
    }
  });

	doc_1.keypress(function (event) {
		if (event.keyCode === 27) { // esc key
			hidePopup_1();
		}
	});

});
</script>
